# Article Translation System

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫ –Ω–∞—É—á–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π –≤ —Ñ–æ—Ä–º–∞—Ç–µ LaTeX —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º LLM —á–µ—Ä–µ–∑ **OpenRouter**.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üåç **OpenRouter** - –¥–æ—Å—Ç—É–ø –∫ –º–æ–¥–µ–ª—è–º —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π API
  - Anthropic Claude (3.5 Sonnet, Opus, Haiku)
  - OpenAI (GPT-4o, o1, o1-mini)
  - Google (Gemini Pro, Flash)
  - Meta (Llama 3.1)
  - –ò –º–Ω–æ–≥–∏–µ –¥—Ä—É–≥–∏–µ
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π flattening LaTeX –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (`\input`, `\include`)
- üß† –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É —Å–µ–∫—Ü–∏—è–º–∏ —á–µ—Ä–µ–∑ LLM
- üìö –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–∏ —Å –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- üåê –ü–µ—Ä–µ–≤–æ–¥ —Å —É—á–µ—Ç–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–æ—Ä–º—É–ª
- üî§ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã (–¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ‚Üí–∞–Ω–≥–ª–∏–π—Å–∫–∏–π)
- üìù –ì–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–º–ø—Ç–æ–≤ –≤ YAML —Ñ–∞–π–ª–∞—Ö
- ‚öôÔ∏è –†–∞–∑–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —ç—Ç–∞–ø–æ–≤ (dependency analysis, translation, fix, etc.)
- üìä HTML –æ—Ç—á–µ—Ç—ã –æ –ø—Ä–æ—Ü–µ—Å—Å–µ –ø–µ—Ä–µ–≤–æ–¥–∞
- üîÑ –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –¥–ª—è –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö —É—á–∞—Å—Ç–∫–æ–≤

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repository-url>
cd article-translation

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–∞–∫ –ø–∞–∫–µ—Ç
pip install -e .
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –®–∞–≥ 1: API –∫–ª—é—á

–ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á –æ—Ç [OpenRouter](https://openrouter.ai/keys) –∏ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:

```bash
# –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: OpenRouter (–¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º)
OPENROUTER_API_KEY=your_openrouter_api_key_here

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä—è–º–æ–π API OpenAI
# OPENAI_API_KEY=your_openai_api_key_here
```

### –®–∞–≥ 2: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ `config.yaml`:

```yaml
openai:
  api_key: ${OPENROUTER_API_KEY}  # –∏–ª–∏ ${OPENAI_API_KEY}
  base_url: "https://openrouter.ai/api/v1"  # —É–±—Ä–∞—Ç—å –¥–ª—è –ø—Ä—è–º–æ–≥–æ OpenAI API
  model: "anthropic/claude-3.5-sonnet"  # —Ñ–æ—Ä–º–∞—Ç "provider/model"
  temperature: 0.3
  max_tokens: 16000

  # –ü—Ä–∏–º–µ—Ä—ã –º–æ–¥–µ–ª–µ–π —á–µ—Ä–µ–∑ OpenRouter:
  # - "anthropic/claude-3.5-sonnet" - –æ—Ç–ª–∏—á–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
  # - "anthropic/claude-3-opus" - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
  # - "openai/gpt-4o" - GPT-4 Optimized
  # - "openai/o1-preview" - reasoning –º–æ–¥–µ–ª—å
  # - "google/gemini-pro-1.5" - –±–æ–ª—å—à–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
  # - "meta-llama/llama-3.1-405b-instruct" - Llama 3.1

translation:
  source_language: "russian"
  target_language: "english"
  max_retries: 2
  auto_mode: true  # false –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞

terminology:
  database_path: "terms.db"
  embedding_model: "text-embedding-3-large"
  similarity_threshold: 0.85

output:
  report_format: "html"
  mark_problematic: true
  problem_color: "red"
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ OpenRouter

- üåç **–ï–¥–∏–Ω—ã–π API** –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
- üí∞ **–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–µ —Ü–µ–Ω—ã** –∏ pay-as-you-go
- üîÑ **–õ–µ–≥–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ** –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏
- üìä **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ñ–æ–ª–ª–±—ç–∫** –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–∏
- üéØ **Routing** –Ω–∞ –ª—É—á—à—É—é –º–æ–¥–µ–ª—å –¥–ª—è –∑–∞–¥–∞—á–∏

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ò–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

```bash
# –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
translate-article input.tex output.tex

# –° –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º config
translate-article input.tex output.tex --config my_config.yaml

# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–µ—Ä–º–∏–Ω–æ–≤)
translate-article input.tex output.tex --interactive

# –° –∫–∞—Å—Ç–æ–º–Ω—ã–º –ø—É—Ç–µ–º –¥–ª—è –æ—Ç—á–µ—Ç–∞
translate-article input.tex output.tex --report report.html
```

### –ò–∑ Python –∫–æ–¥–∞

```python
from article_translator import ArticleTranslator

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
translator = ArticleTranslator(config_path="config.yaml")

# –ü–µ—Ä–µ–≤–æ–¥
result = translator.translate(
    source_file="article.tex",
    output_file="article_en.tex",
    terminology_mode="auto"  # –∏–ª–∏ "interactive"
)

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
if result.exit_code == 0:
    print("‚úì –ü–µ—Ä–µ–≤–æ–¥ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω")
else:
    print(f"‚ö† –ó–∞–≤–µ—Ä—à–µ–Ω–æ —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è–º–∏: {len(result.problematic_paragraphs)} –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –º–µ—Å—Ç")

print(f"–û—Ç—á–µ—Ç: {result.report_path}")
print(f"–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: {result.statistics}")
```

## –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã

### 1. Parsing & Flattening
- –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ –≤—Å–µ—Ö `\input` –∏ `\include`
- –í—ã–¥–µ–ª–µ–Ω–∏–µ —Å–µ–∫—Ü–∏–π –∏ –ø–æ–¥—Å–µ–∫—Ü–∏–π
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ñ–æ—Ä–º—É–ª (inline –∏ display)

### 2. Dependency Analysis
- LLM –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Å–µ–∫—Ü–∏—è–º–∏
- –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –¢–æ–ø–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–∞

### 3. Terminology Extraction
- LLM –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã
- –ü–æ–∏—Å–∫ –ø–æ—Ö–æ–∂–∏—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≤ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —É—Ç–æ—á–Ω–µ–Ω–∏–µ
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±–∞–∑—É –¥–ª—è –±—É–¥—É—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 4. Translation
- –ü–µ—Ä–µ–≤–æ–¥ —Å–µ–∫—Ü–∏–π –≤ –ø–æ—Ä—è–¥–∫–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ö–æ–Ω—Ç–µ–∫—Å—Ç: –ø–µ—Ä–µ–≤–æ–¥—ã –∑–∞–≤–∏—Å–∏–º—ã—Ö —Å–µ–∫—Ü–∏–π + —Å–ª–æ–≤–∞—Ä—å —Ç–µ—Ä–º–∏–Ω–æ–≤
- –°—Ç—Ä–æ–≥–æ–µ –ø—Ä–∞–≤–∏–ª–æ: —Ñ–æ—Ä–º—É–ª—ã –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞

### 5. Formula Validation
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ñ–æ—Ä–º—É–ª –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∏ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∞–±–∑–∞—Ü–µ–≤:
  - **Inline —Ñ–æ—Ä–º—É–ª—ã**: –º–Ω–æ–∂–µ—Å—Ç–≤–æ –¥–æ–ª–∂–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å
  - **Display —Ñ–æ—Ä–º—É–ª—ã**: –ø–æ—Ä—è–¥–æ–∫ –¥–æ–ª–∂–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è
- –î–æ 2 –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –ø—Ä–∏ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è—Ö
- –ú–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –º–µ—Å—Ç: `{\color{red}...\footnote{diff}}`

### 5.5. Cyrillic Validation (–¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã –≤ –ø–µ—Ä–µ–≤–æ–¥–µ
- –ü–æ–∏—Å–∫ –≤—Å–µ—Ö –Ω–µ–ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤
- –ú–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤: `>>>—Ç–µ–∫—Å—Ç<<<`
- –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –º–µ—Å—Ç
- –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### 6. Report Generation
- HTML –æ—Ç—á–µ—Ç —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
- –°–ø–∏—Å–æ–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤
- –î–µ—Ç–∞–ª–∏ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö —É—á–∞—Å—Ç–∫–æ–≤
- Exit code: 0 (—É—Å–ø–µ—Ö) –∏–ª–∏ 1 (–µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
article-translation/
‚îú‚îÄ‚îÄ article_translator/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py              # –ü—É–±–ª–∏—á–Ω—ã–π API
‚îÇ   ‚îú‚îÄ‚îÄ main.py                  # –ì–ª–∞–≤–Ω—ã–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ models.py                # Dataclasses
‚îÇ   ‚îú‚îÄ‚îÄ prompt_loader.py         # –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–º–ø—Ç–æ–≤ –∏–∑ YAML
‚îÇ   ‚îú‚îÄ‚îÄ cyrillic_validator.py    # –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–∏—Ä–∏–ª–ª–∏—Ü—ã
‚îÇ   ‚îú‚îÄ‚îÄ latex_parser.py       # –ü–∞—Ä—Å–∏–Ω–≥ LaTeX
‚îÇ   ‚îú‚îÄ‚îÄ dependency_analyzer.py # –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ terminology_manager.py # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ translation_engine.py  # –î–≤–∏–∂–æ–∫ –ø–µ—Ä–µ–≤–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ formula_validator.py   # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º—É–ª
‚îÇ   ‚îú‚îÄ‚îÄ report_generator.py    # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ openai_client.py       # OpenAI API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îî‚îÄ‚îÄ cli.py                 # CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ prompts/                   # YAML —Ñ–∞–π–ª—ã —Å –ø—Ä–æ–º–ø—Ç–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ dependency_analysis.yaml
‚îÇ   ‚îú‚îÄ‚îÄ terminology_extraction.yaml
‚îÇ   ‚îú‚îÄ‚îÄ translation.yaml
‚îÇ   ‚îú‚îÄ‚îÄ translation_strict_formulas.yaml
‚îÇ   ‚îî‚îÄ‚îÄ cyrillic_fix.yaml
‚îú‚îÄ‚îÄ examples/
‚îÇ   ‚îî‚îÄ‚îÄ sample_article.tex     # –ü—Ä–∏–º–µ—Ä —Å—Ç–∞—Ç—å–∏
‚îú‚îÄ‚îÄ tests/                     # –¢–µ—Å—Ç—ã (TODO)
‚îú‚îÄ‚îÄ config.yaml                # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ requirements.txt           # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ setup.py                   # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–∞
‚îú‚îÄ‚îÄ DESIGN.md                  # –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
‚îî‚îÄ‚îÄ README.md                  # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä LaTeX —Å—Ç–∞—Ç—å–∏

–°–º. `examples/sample_article.tex`

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º

–í –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ —Å–∏—Å—Ç–µ–º–∞ –∑–∞–ø—Ä–æ—Å–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Ä–º–∏–Ω–∞:

```
=== Terminology Review (15 terms) ===

1/15: –≥–∏–ª—å–±–µ—Ä—Ç–æ–≤–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ ‚Üí Hilbert space
  Context: –≤ —Ç–µ–æ—Ä–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤
  [a]ccept / [e]dit / [s]kip: a

2/15: —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ ‚Üí eigenvalue
  [a]ccept / [e]dit / [s]kip: e
  New translation for '—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ': proper value
```

## –ö–æ–¥—ã –≤–æ–∑–≤—Ä–∞—Ç–∞

- `0` - –£—Å–ø–µ—à–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ –±–µ–∑ –ø—Ä–æ–±–ª–µ–º
- `1` - –ü–µ—Ä–µ–≤–æ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω, –Ω–æ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ —É—á–∞—Å—Ç–∫–∏ (–≤ –æ—Ç—á–µ—Ç–µ)
- `2` - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ (–Ω–µ—Ç API –∫–ª—é—á–∞, –Ω–µ –Ω–∞–π–¥–µ–Ω —Ñ–∞–π–ª –∏ —Ç.–¥.)

## –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤

–í—Å–µ –ø—Ä–æ–º–ø—Ç—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥–µ–ª–µ–π —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ YAML —Ñ–∞–π–ª–∞—Ö –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `prompts/`.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–º–ø—Ç-—Ñ–∞–π–ª–∞

```yaml
# prompts/translation.yaml
model: "anthropic/claude-3.5-sonnet"  # –ú–æ–¥–µ–ª—å —á–µ—Ä–µ–∑ OpenRouter
temperature: 0.3                       # –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —Å—ç–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏—è
reasoning_effort: "high"               # low, medium, high (–¥–ª—è reasoning –º–æ–¥–µ–ª–µ–π)
max_tokens: 16000                      # –ú–∞–∫—Å–∏–º—É–º —Ç–æ–∫–µ–Ω–æ–≤ –≤ –æ—Ç–≤–µ—Ç–µ

system_prompt: |
  System prompt —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ {source_language}, {target_language}

user_prompt_template: |
  User prompt —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ {content}, {dictionary}, {context}
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–æ–º–ø—Ç-—Ñ–∞–π–ª—ã

- `dependency_analysis.yaml` - –∞–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –º–µ–∂–¥—É —Å–µ–∫—Ü–∏—è–º–∏
- `terminology_extraction.yaml` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–æ–≤
- `translation.yaml` - –æ—Å–Ω–æ–≤–Ω–æ–π –ø–µ—Ä–µ–≤–æ–¥
- `translation_strict_formulas.yaml` - –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ —Ñ–æ—Ä–º—É–ª—ã
- `cyrillic_fix.yaml` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ–ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤

### –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π

–í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—Ä–∞–∑–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —ç—Ç–∞–ø–æ–≤**:

```yaml
# dependency_analysis.yaml - –±—ã—Å—Ç—Ä–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –ø—Ä–æ—Å—Ç–æ–π –∑–∞–¥–∞—á–∏
model: "anthropic/claude-3-haiku"
temperature: 0.3
reasoning_effort: "low"

# translation.yaml - –º–æ—â–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞
model: "anthropic/claude-3.5-sonnet"
temperature: 0.3
reasoning_effort: "high"

# translation_strict_formulas.yaml - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å
model: "anthropic/claude-3-opus"
temperature: 0.1
reasoning_effort: "high"
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ OpenRouter

**Anthropic:**
- `anthropic/claude-3.5-sonnet` - –ª—É—á—à–∏–π –±–∞–ª–∞–Ω—Å –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —Å–∫–æ—Ä–æ—Å—Ç–∏
- `anthropic/claude-3-opus` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- `anthropic/claude-3-haiku` - –±—ã—Å—Ç—Ä–∞—è –∏ –¥–µ—à–µ–≤–∞—è

**OpenAI:**
- `openai/gpt-4o` - GPT-4 Optimized
- `openai/o1-preview` - reasoning –º–æ–¥–µ–ª—å (–º–µ–¥–ª–µ–Ω–Ω–æ, –¥–æ—Ä–æ–≥–æ)
- `openai/o1-mini` - reasoning –º–æ–¥–µ–ª—å (–±—ã—Å—Ç—Ä–µ–µ)

**Google:**
- `google/gemini-pro-1.5` - –±–æ–ª—å—à–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (2M —Ç–æ–∫–µ–Ω–æ–≤)
- `google/gemini-flash-1.5` - –±—ã—Å—Ç—Ä–∞—è –≤–µ—Ä—Å–∏—è

**Meta:**
- `meta-llama/llama-3.1-405b-instruct` - Llama 3.1 405B

–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –º–æ–¥–µ–ª–µ–π: https://openrouter.ai/models

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å —Ç–µ–∫—Å—Ç–æ–≤—ã–º–∏ LaTeX —Ñ–∞–π–ª–∞–º–∏ (–Ω–µ PDF)
- –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø –∫ OpenAI API
- –ú–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –°–ª–æ–∂–Ω—ã–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –º–æ–≥—É—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å —Ä—É—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
pip install -e ".[dev]"
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
pytest tests/
```

### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞

```bash
black article_translator/
ruff check article_translator/
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

## –ê–≤—Ç–æ—Ä—ã

Article Translation Team

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –±–∞–≥—Ä–µ–ø–æ—Ä—Ç–æ–≤ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.
